{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/koba/work/huge-reversi/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useState,useEffect}from'react';import io from'socket.io-client';import styled from'styled-components';import GameBoard from'./components/GameBoard';import VirtualizedBoard from'./components/VirtualizedBoard';import GameControls from'./components/GameControls';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AppContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  min-height: 100vh;\\n  background-color: #1a1a1a;\\n  color: white;\\n  font-family: Arial, sans-serif;\\n\"])));const Header=styled.h1(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin: 20px 0;\\n  color: #4CAF50;\\n\"])));const GameContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 20px;\\n  align-items: flex-start;\\n  max-width: 100vw;\\n  overflow: hidden;\\n\"])));function App(){const[socket,setSocket]=useState(null);const[gameState,setGameState]=useState(null);const[gameId,setGameId]=useState('');const[playerName,setPlayerName]=useState('');const[connected,setConnected]=useState(false);useEffect(()=>{const newSocket=io('http://localhost:5000');setSocket(newSocket);newSocket.on('connect',()=>{setConnected(true);});newSocket.on('disconnect',()=>{setConnected(false);});newSocket.on('gameState',state=>{setGameState(state);});newSocket.on('gameOver',winner=>{alert(\"\\u30B2\\u30FC\\u30E0\\u7D42\\u4E86\\uFF01\\u52DD\\u8005: \".concat(winner?winner.playerName:'引き分け'));});newSocket.on('error',error=>{alert(\"\\u30A8\\u30E9\\u30FC: \".concat(error));});return()=>newSocket.close();},[]);const joinGame=()=>{if(socket&&gameId&&playerName){socket.emit('joinGame',{gameId,playerName});}};const makeMove=(row,col)=>{if(socket&&gameState){socket.emit('makeMove',{gameId:gameState.gameId,row,col});}};return/*#__PURE__*/_jsxs(AppContainer,{children:[/*#__PURE__*/_jsx(Header,{children:\"\\u5DE8\\u5927\\u30AA\\u30BB\\u30ED - Huge Reversi\"}),!gameState?/*#__PURE__*/_jsx(GameControls,{gameId:gameId,setGameId:setGameId,playerName:playerName,setPlayerName:setPlayerName,onJoinGame:joinGame,connected:connected}):/*#__PURE__*/_jsx(GameContainer,{children:gameState&&gameState.boardSize>16?/*#__PURE__*/_jsx(VirtualizedBoard,{gameState:gameState,onMakeMove:makeMove,validMoves:new Set()}):/*#__PURE__*/_jsx(GameBoard,{gameState:gameState,onMakeMove:makeMove})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","io","styled","GameBoard","VirtualizedBoard","GameControls","jsx","_jsx","jsxs","_jsxs","AppContainer","div","_templateObject","_taggedTemplateLiteral","Header","h1","_templateObject2","GameContainer","_templateObject3","App","socket","setSocket","gameState","setGameState","gameId","setGameId","playerName","setPlayerName","connected","setConnected","newSocket","on","state","winner","alert","concat","error","close","joinGame","emit","makeMove","row","col","children","onJoinGame","boardSize","onMakeMove","validMoves","Set"],"sources":["/Users/koba/work/huge-reversi/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport styled from 'styled-components';\nimport GameBoard from './components/GameBoard';\nimport VirtualizedBoard from './components/VirtualizedBoard';\nimport GameControls from './components/GameControls';\n\nconst AppContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n  background-color: #1a1a1a;\n  color: white;\n  font-family: Arial, sans-serif;\n`;\n\nconst Header = styled.h1`\n  margin: 20px 0;\n  color: #4CAF50;\n`;\n\nconst GameContainer = styled.div`\n  display: flex;\n  gap: 20px;\n  align-items: flex-start;\n  max-width: 100vw;\n  overflow: hidden;\n`;\n\nfunction App() {\n  const [socket, setSocket] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [gameId, setGameId] = useState('');\n  const [playerName, setPlayerName] = useState('');\n  const [connected, setConnected] = useState(false);\n\n  useEffect(() => {\n    const newSocket = io('http://localhost:5000');\n    setSocket(newSocket);\n\n    newSocket.on('connect', () => {\n      setConnected(true);\n    });\n\n    newSocket.on('disconnect', () => {\n      setConnected(false);\n    });\n\n    newSocket.on('gameState', (state) => {\n      setGameState(state);\n    });\n\n    newSocket.on('gameOver', (winner) => {\n      alert(`ゲーム終了！勝者: ${winner ? winner.playerName : '引き分け'}`);\n    });\n\n    newSocket.on('error', (error) => {\n      alert(`エラー: ${error}`);\n    });\n\n    return () => newSocket.close();\n  }, []);\n\n  const joinGame = () => {\n    if (socket && gameId && playerName) {\n      socket.emit('joinGame', { gameId, playerName });\n    }\n  };\n\n  const makeMove = (row, col) => {\n    if (socket && gameState) {\n      socket.emit('makeMove', { gameId: gameState.gameId, row, col });\n    }\n  };\n\n  return (\n    <AppContainer>\n      <Header>巨大オセロ - Huge Reversi</Header>\n      \n      {!gameState ? (\n        <GameControls\n          gameId={gameId}\n          setGameId={setGameId}\n          playerName={playerName}\n          setPlayerName={setPlayerName}\n          onJoinGame={joinGame}\n          connected={connected}\n        />\n      ) : (\n        <GameContainer>\n          {gameState && gameState.boardSize > 16 ? (\n            <VirtualizedBoard \n              gameState={gameState} \n              onMakeMove={makeMove}\n              validMoves={new Set()}\n            />\n          ) : (\n            <GameBoard \n              gameState={gameState} \n              onMakeMove={makeMove}\n            />\n          )}\n        </GameContainer>\n      )}\n    </AppContainer>\n  );\n}\n\nexport default App;"],"mappings":"gMAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,gBAAgB,KAAM,+BAA+B,CAC5D,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,YAAY,CAAGR,MAAM,CAACS,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,uLAQ9B,CAED,KAAM,CAAAC,MAAM,CAAGZ,MAAM,CAACa,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,gDAGvB,CAED,KAAM,CAAAI,aAAa,CAAGf,MAAM,CAACS,GAAG,CAAAO,gBAAA,GAAAA,gBAAA,CAAAL,sBAAA,gHAM/B,CAED,QAAS,CAAAM,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACuB,SAAS,CAAEC,YAAY,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACyB,MAAM,CAAEC,SAAS,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAC2B,UAAU,CAAEC,aAAa,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC6B,SAAS,CAAEC,YAAY,CAAC,CAAG9B,QAAQ,CAAC,KAAK,CAAC,CAEjDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA8B,SAAS,CAAG7B,EAAE,CAAC,uBAAuB,CAAC,CAC7CoB,SAAS,CAACS,SAAS,CAAC,CAEpBA,SAAS,CAACC,EAAE,CAAC,SAAS,CAAE,IAAM,CAC5BF,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CAAC,CAEFC,SAAS,CAACC,EAAE,CAAC,YAAY,CAAE,IAAM,CAC/BF,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CAEFC,SAAS,CAACC,EAAE,CAAC,WAAW,CAAGC,KAAK,EAAK,CACnCT,YAAY,CAACS,KAAK,CAAC,CACrB,CAAC,CAAC,CAEFF,SAAS,CAACC,EAAE,CAAC,UAAU,CAAGE,MAAM,EAAK,CACnCC,KAAK,sDAAAC,MAAA,CAAcF,MAAM,CAAGA,MAAM,CAACP,UAAU,CAAG,MAAM,CAAE,CAAC,CAC3D,CAAC,CAAC,CAEFI,SAAS,CAACC,EAAE,CAAC,OAAO,CAAGK,KAAK,EAAK,CAC/BF,KAAK,wBAAAC,MAAA,CAASC,KAAK,CAAE,CAAC,CACxB,CAAC,CAAC,CAEF,MAAO,IAAMN,SAAS,CAACO,KAAK,CAAC,CAAC,CAChC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,GAAIlB,MAAM,EAAII,MAAM,EAAIE,UAAU,CAAE,CAClCN,MAAM,CAACmB,IAAI,CAAC,UAAU,CAAE,CAAEf,MAAM,CAAEE,UAAW,CAAC,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAc,QAAQ,CAAGA,CAACC,GAAG,CAAEC,GAAG,GAAK,CAC7B,GAAItB,MAAM,EAAIE,SAAS,CAAE,CACvBF,MAAM,CAACmB,IAAI,CAAC,UAAU,CAAE,CAAEf,MAAM,CAAEF,SAAS,CAACE,MAAM,CAAEiB,GAAG,CAAEC,GAAI,CAAC,CAAC,CACjE,CACF,CAAC,CAED,mBACEjC,KAAA,CAACC,YAAY,EAAAiC,QAAA,eACXpC,IAAA,CAACO,MAAM,EAAA6B,QAAA,CAAC,+CAAoB,CAAQ,CAAC,CAEpC,CAACrB,SAAS,cACTf,IAAA,CAACF,YAAY,EACXmB,MAAM,CAAEA,MAAO,CACfC,SAAS,CAAEA,SAAU,CACrBC,UAAU,CAAEA,UAAW,CACvBC,aAAa,CAAEA,aAAc,CAC7BiB,UAAU,CAAEN,QAAS,CACrBV,SAAS,CAAEA,SAAU,CACtB,CAAC,cAEFrB,IAAA,CAACU,aAAa,EAAA0B,QAAA,CACXrB,SAAS,EAAIA,SAAS,CAACuB,SAAS,CAAG,EAAE,cACpCtC,IAAA,CAACH,gBAAgB,EACfkB,SAAS,CAAEA,SAAU,CACrBwB,UAAU,CAAEN,QAAS,CACrBO,UAAU,CAAE,GAAI,CAAAC,GAAG,CAAC,CAAE,CACvB,CAAC,cAEFzC,IAAA,CAACJ,SAAS,EACRmB,SAAS,CAAEA,SAAU,CACrBwB,UAAU,CAAEN,QAAS,CACtB,CACF,CACY,CAChB,EACW,CAAC,CAEnB,CAEA,cAAe,CAAArB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}